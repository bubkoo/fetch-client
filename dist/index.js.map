{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 359e35df7cc9f787460a","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","global","_classCallCheck","instance","Constructor","TypeError","toString","o","Object","prototype","isString","isBlob","isFormData","isURLSearchParams","isRequest","Request","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","FetchClient","options","undefined","fetch","Error","middlewares","_this","Array","isArray","forEach","middleware","push","url","method","data","body","JSON","stringify","e","urlOrRequest","_len","args","_key","req","createRequest","apply","concat","promise","Promise","resolve","chains","sequence","reversed","unshift","_ref","request","requestError","_ref2","response","responseError","then","shift"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FetchClient\"] = factory();\n\telse\n\t\troot[\"FetchClient\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FetchClient\"] = factory();\n\telse\n\t\troot[\"FetchClient\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction toString(o) {\n\t  return Object.prototype.toString.call(o);\n\t}\n\t\n\tfunction isString(o) {\n\t  return typeof o === 'string';\n\t}\n\t\n\tfunction isBlob(o) {\n\t  return toString(o) === '[object Blob]';\n\t}\n\t\n\tfunction isFormData(o) {\n\t  return toString(o) === '[object FormData]';\n\t}\n\t\n\tfunction isURLSearchParams(o) {\n\t  return toString(o) === '[object URLSearchParams]';\n\t}\n\t\n\tfunction isRequest(o) {\n\t  return o && o instanceof global.Request;\n\t}\n\t\n\tvar FetchClient = function () {\n\t  function FetchClient() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, FetchClient);\n\t\n\t    if (!global.fetch) {\n\t      throw new Error('FetchClient requires a Fetch API implementation, but the current environment doesn\\'t support it. You may need to load a polyfill such as https://github.com/matthew-andrews/isomorphic-fetch.');\n\t    }\n\t\n\t    this.options = options;\n\t    this.middlewares = [];\n\t  }\n\t\n\t  _createClass(FetchClient, [{\n\t    key: 'addMiddlewares',\n\t    value: function addMiddlewares(middlewares) {\n\t      var _this = this;\n\t\n\t      if (!Array.isArray(middlewares)) {\n\t        middlewares = [middlewares];\n\t      }\n\t\n\t      middlewares.forEach(function (middleware) {\n\t        if (middleware) {\n\t          _this.middlewares.push(Object(middleware));\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'clearMiddlewares',\n\t    value: function clearMiddlewares() {\n\t      this.middlewares = [];\n\t    }\n\t  }, {\n\t    key: 'createRequest',\n\t    value: function createRequest(url, options, method, data) {\n\t\n\t      options = _extends({}, this.options, options);\n\t\n\t      options.method = method || options.method;\n\t      if (!options.method) {\n\t        options.method = !data && !options.body ? 'GET' : 'POST';\n\t      }\n\t\n\t      if (data) {\n\t        if (isString(data) || isFormData(data) || isURLSearchParams(data) || isBlob(data)) {\n\t          options.body = data;\n\t        } else {\n\t          try {\n\t            options.body = global.JSON.stringify(data);\n\t          } catch (e) {\n\t            options.body = data;\n\t          }\n\t        }\n\t      }\n\t\n\t      return new global.Request(url, options);\n\t    }\n\t  }, {\n\t    key: 'request',\n\t    value: function request(urlOrRequest) {\n\t      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t      }\n\t\n\t      var req = isRequest(urlOrRequest) ? urlOrRequest : this.createRequest.apply(this, [urlOrRequest].concat(args));\n\t\n\t      var promise = global.Promise.resolve(req);\n\t\n\t      var chains = [global.fetch, null];\n\t      var sequence = this.middlewares;\n\t      var reversed = [];\n\t\n\t      sequence.forEach(function (middleware) {\n\t        return reversed.unshift(middleware);\n\t      });\n\t\n\t      reversed.forEach(function (_ref) {\n\t        var request = _ref.request;\n\t        var requestError = _ref.requestError;\n\t\n\t\n\t        if (requestError) {\n\t          chains.unshift(null, requestError);\n\t        }\n\t\n\t        if (request) {\n\t          chains.unshift(request, null);\n\t        }\n\t      });\n\t\n\t      sequence.forEach(function (_ref2) {\n\t        var response = _ref2.response;\n\t        var responseError = _ref2.responseError;\n\t\n\t\n\t        if (response) {\n\t          chains.push(response, null);\n\t        }\n\t\n\t        if (responseError) {\n\t          chains.push(null, responseError);\n\t        }\n\t      });\n\t\n\t      while (chains.length) {\n\t        promise = promise.then(chains.shift(), chains.shift());\n\t      }\n\t\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'fetch',\n\t    value: function fetch(url, options) {\n\t      return this.request(url, options);\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get(url, options) {\n\t      return this.request(url, options, 'GET');\n\t    }\n\t  }, {\n\t    key: 'head',\n\t    value: function head(url, options) {\n\t      return this.request(url, options, 'HEAD');\n\t    }\n\t  }, {\n\t    key: 'delete',\n\t    value: function _delete(url, options) {\n\t      return this.request(url, options, 'DELETE');\n\t    }\n\t  }, {\n\t    key: 'put',\n\t    value: function put(url, data, options) {\n\t      return this.request(url, options, 'PUT', data);\n\t    }\n\t  }, {\n\t    key: 'post',\n\t    value: function post(url, data, options) {\n\t      return this.request(url, options, 'POST', data);\n\t    }\n\t  }, {\n\t    key: 'patch',\n\t    value: function patch(url, data, options) {\n\t      return this.request(url, options, 'PATCH', data);\n\t    }\n\t  }]);\n\t\n\t  return FetchClient;\n\t}();\n\t\n\texports.default = FetchClient;\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 359e35df7cc9f787460a\n **/","function toString(o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction isString(o) {\n  return typeof o === 'string';\n}\n\nfunction isBlob(o) {\n  return toString(o) === '[object Blob]';\n}\n\nfunction isFormData(o) {\n  return toString(o) === '[object FormData]';\n}\n\nfunction isURLSearchParams(o) {\n  return toString(o) === '[object URLSearchParams]';\n}\n\nfunction isRequest(o) {\n  return o && o instanceof global.Request;\n}\n\n\nclass FetchClient {\n\n  constructor(options = {}) {\n\n    if (!global.fetch) {\n      throw new Error('FetchClient requires a Fetch API implementation, but the current environment doesn\\'t support it. You may need to load a polyfill such as https://github.com/matthew-andrews/isomorphic-fetch.');\n    }\n\n    this.options     = options;\n    this.middlewares = [];\n  }\n\n  addMiddlewares(middlewares) {\n\n    if (!Array.isArray(middlewares)) {\n      middlewares = [middlewares];\n    }\n\n    middlewares.forEach(middleware => {\n      if (middleware) {\n        this.middlewares.push(Object(middleware));\n      }\n    });\n  }\n\n  clearMiddlewares() {\n    this.middlewares = [];\n  }\n\n  createRequest(url, options, method, data) {\n\n    options = { ...this.options, ...options };\n\n    options.method = method || options.method;\n    if (!options.method) {\n      options.method = !data && !options.body ? 'GET' : 'POST';\n    }\n\n    if (data) {\n      if (isString(data) ||\n        isFormData(data) ||\n        isURLSearchParams(data) ||\n        isBlob(data)) {\n        options.body = data;\n      } else {\n        try {\n          options.body = global.JSON.stringify(data);\n        } catch (e) {\n          options.body = data;\n        }\n      }\n    }\n\n    return new global.Request(url, options);\n  }\n\n  request(urlOrRequest, ...args) {\n\n    const req = isRequest(urlOrRequest)\n      ? urlOrRequest\n      : this.createRequest(urlOrRequest, ...args);\n\n    let promise = global.Promise.resolve(req);\n\n    let chains   = [global.fetch, null];\n    let sequence = this.middlewares;\n    let reversed = [];\n\n    sequence.forEach(middleware => reversed.unshift(middleware));\n\n    reversed.forEach(({ request, requestError }) => {\n\n      if (requestError) {\n        chains.unshift(null, requestError);\n      }\n\n      if (request) {\n        chains.unshift(request, null);\n      }\n    });\n\n    sequence.forEach(({ response, responseError }) => {\n\n      if (response) {\n        chains.push(response, null);\n      }\n\n      if (responseError) {\n        chains.push(null, responseError);\n      }\n    });\n\n    while (chains.length) {\n      promise = promise.then(chains.shift(), chains.shift());\n    }\n\n    return promise;\n  }\n\n  fetch(url, options) {\n    return this.request(url, options);\n  }\n\n  get(url, options) {\n    return this.request(url, options, 'GET');\n  }\n\n  head(url, options) {\n    return this.request(url, options, 'HEAD');\n  }\n\n  delete(url, options) {\n    return this.request(url, options, 'DELETE');\n  }\n\n  put(url, data, options) {\n    return this.request(url, options, 'PUT', data);\n  }\n\n  post(url, data, options) {\n    return this.request(url, options, 'POST', data);\n  }\n\n  patch(url, data, options) {\n    return this.request(url, options, 'PATCH', data);\n  }\n}\n\nexport default FetchClient;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}